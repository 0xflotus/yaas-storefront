<section>
    <div class="row">
        <div class="col-sm-push-3 col-sm-5">
            <div class="page-header">
                <h1>{{'RESET_PW_TITLE' | translate}}</h1>
            </div>
            <form name="changePwForm" novalidate>
                <div class="error"
                     ng-show="!changePwForm.password.focused && changePwForm.password.$invalid && (showPristineErrors || changePwForm.password.$dirty)"
                     style="color:red">
                    <small class="help-inline has-error">
                        {{'PASSWORD_REQUIRED' | translate}}
                    </small>
                </div>
                <div class="form-group input-group"
                     ng-class="{'has-error': !changePwForm.password.focused && changePwForm.password.$invalid &&  changePwForm.password.$dirty}">

            <span class="input-group-addon"><label class="control-label" for="passwordInput">{{'PASSWORD' |
                translate}}</label></span>
                    <input type="password" class="form-control" id="passwordInput" name="password"
                           ng-model="password" required ng-minlength="6"  ng-focus="changePwForm.password.focused=true; clearErrors()"
                           ng-blur="changePwForm.password.focused=false">
                </div>
                <div class="error" ng-show="changePwForm.confirmPassword.$invalid && changePwForm.confirmPassword.$dirty"
                     style="color:red">
                    <small class="help-inline has-error">
                        {{'PASSWORDS_MUST_MATCH' | translate}}
                    </small>
                </div>
                <div class="form-group input-group"
                     ng-class="{'has-error': changePwForm.confirmPassword.$invalid &&  changePwForm.confirmPassword.$dirty}">

            <span class="input-group-addon"><label class="control-label" for="passwordInputRepeat">{{'CONFIRM_PASSWORD' |
                translate}}</label></span>
                    <input type="password" class="form-control" id="passwordInputRepeat" name="confirmPassword"
                           ng-model="passwordRepeat" confirm-input="passwordInput" required>
                </div>
<!--
                <div class="form-group input-group" ng-class="{'has-error': changePwForm.token.$invalid &&  changePwForm.token.$dirty}">

                    <span class="input-group-addon"><label class="control-label" for="token">{{'TOKEN' | translate}}</label></span>
                    <input type="password" class="form-control" id="token" name="token" ng-model="token"
                           required>
                </div>-->
                <div class="text-danger list-unstyled" ng-show="error.message">

                    <small class="help-inline has-error">
                        {{ error.message | translate}}  {{error.details || ''}}
                    </small>
                </div>
                <button ng-click="showAllErrors() && changePwForm.$valid && changePassword(token, password)" type="submit"
                        class="btn btn-primary btn-lg btn-block" ng-disabled="submitDisabled">
                    {{'RESET_PASSWORD' | translate }}
                </button>

            </form>
        </div>
    </div>
</section>


