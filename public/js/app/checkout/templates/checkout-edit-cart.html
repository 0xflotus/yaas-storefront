<div class="edit-cart-backdrop"></div>

<div role="navigation" id="cart" class="edit-cart" ng-cloak><!--
  ~ [y] hybris Platform
  ~
  ~ Copyright (c) 2000-2014 hybris AG
  ~ All rights reserved.
  ~
  ~ This software is the confidential and proprietary information of hybris
  ~ ("Confidential Information"). You shall not disclose such Confidential
  ~ Information and shall use it only in accordance with the terms of the
  ~ license agreement you entered into with hybris.
  -->

		<div class="btn-group continue" ng-hide="!!cart.items">
			<button class="btn  btn-default continue " data-ui-sref="base.category"><span class="hyicon hyicon-chevron-thin-left"></span>{{'CONTINUE_SHOPPING' | translate}}</button>
		</div>
		<div class="btn-group checkout" ng-hide="!cart.items.length">
			<button class="btn  btn-primary " ng-click="hideEditCart()" ng-if="cart.items.length">{{'BACK_TO_CHECKOUT' | translate}}<span class="hyicon hyicon-chevron-thin-right"></span>
			</button>
		</div>

	<div  ng-hide="!!cart.items">
		<p class="edit-cart-empty">{{'NO_ITEMS_IN_CART' | translate}}</p>
	</div>

	<section class="summary" ng-hide="!cart.items.length">
		<table class="table">
			<thead>
			<tr>
				<th>{{'EST_ORDER_TOTAL' | translate}}</th>
				<th class="text-right">{{cart.totalPrice.value || 0 | currency: currencySymbol}}</th>
			<tr>
			</thead>
			<tbody>
			<tr>
				<td>{{cart.totalUnitsCount || 0}} {{'ITEM' | translate}}{{cart.totalUnitsCount == 1 ? '' :'s'}}</td>
				<td class="text-right">{{cart.subTotalPrice.value || 0 | currency: currencySymbol}}</td>
			</tr>
			</tbody>
		</table>
	</section>
	<section>
				<!-- Cart Item -->
	<div ng-repeat="item in cart.items">
		<div ng-if="item.error" class="error col-xs-12 col-md-12" style="color:red">
			{{'CART_ITEM_UPDATE_ERROR' | translate}}
		</div>
		<div class="cart-item row">
			<div class="col-xs-4 col-md-4 text-center img-col">
				<img ng-src="{{ item && item.images[0].url || ''}}" class="img-responsive"/>
				<button ng-click="removeProductFromCart(item.id)" class="btn delete btn-link"><span class="hyicon hyicon-remove"></span></button>
			</div>
			<div class="col-xs-8 col-md-8  detail-col">
				<button id="remove-product" ng-click="removeProductFromCart(item.id)" class="btn delete btn-link"><span class="hyicon hyicon-remove"></span></button>
				<div class="name">{{item.product.name}}</div>
				<div class="price item-attr">{{'ITEM_PRICE' | translate}}: <span> {{item.unitPrice.value | currency: currencySymbol}}</span> </div>
				<div class="clearfix">
					<div class="input-group pull-left" ng-class="{error: item.error}">
						<span class="input-group-addon">{{'QTY' | translate}}:</span>
						<form ng-submit="updateCartItem(item, item.quantity,{opencartAfterEdit: false})">
							<input type="number" min="0" step="1" pattern="\d*" class="form-control" ng-model="item.quantity"
								   ng-blur="updateCartItem(item, item.quantity,{opencartAfterEdit: false})"
								   onkeydown="return ( event.keyCode==13 || event.ctrlKey || event.altKey
                                                    || (47<event.keyCode && event.keyCode<58 && event.shiftKey==false)
                                                    || (95<event.keyCode && event.keyCode<106)
                                                    || (event.keyCode==8) || (event.keyCode==9)
                                                    || (event.keyCode>34 && event.keyCode<40)
                                                    || (event.keyCode==46) )" />
						</form>
					</div>
				</div>
				<div class="price-total item-attr">{{'TOTAL_PRICE' | translate}}: <span>{{ item.itemPrice.value || 0 | currency: currencySymbol}}</span></div>
			</div>
		</div>
	</div>
	<!-- /Cart Item -->
	</section>
</div>